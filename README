DBI-Sugar

    use DBI::Sugar;

    DBI::Sugar::factory {
        # must return a DBI connection
    };

    # open a new transaction
    TX {
        # select some rows
        my %rows = SELECT {
            $_{id} => [$_{a}, $_{b}];
        } "id, a, b FROM myTab WHERE status = ? FOR UPDATE" => ['ok'];

        SQL_DO "DELETE FROM myTab ORDER BY id ASC LIMIT ?" => [1];

        INSERT myTab => {
            a => "Foo",
            b => "Bar",
        };
    };
    # commit if it returns, rollback if it dies


INSTALLATION

To install this module, run the following commands:

	perl Build.PL
	./Build
	./Build test
	./Build install

SUPPORT AND DOCUMENTATION

After installing, you can find documentation for this module with the
perldoc command.

    perldoc DBI::Sugar

You can also look for information at:

    GitHub
        http://github.com/ohait/perl-dbi-sugar


LICENSE AND COPYRIGHT

Copyright (C) 2014 Francesco Rivetti

This program is free software; you can redistribute it and/or modify it
under the terms of either: the GNU General Public License as published
by the Free Software Foundation; or the Artistic License.

See http://dev.perl.org/licenses/ for more information.

